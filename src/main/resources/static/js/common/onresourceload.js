requirejs.onResourceLoad=function(e,o,d){if("undefined"==typeof _gLoadedModules&&(_gLoadedModules=[]),"undefined"==typeof _gLastUrl&&(_gLastUrl=window.location.href),_gLastUrl===window.location.href)_gLoadedModules.push(o.name);else{var l=window.location.href.split("#"),n=_gLastUrl.split("#"),s=function(e){return e?"/"===e[0]?e.split("/")[1]:e.split("/")[0]:""},a=s(l[1]),i=s(n[1]);if(l[0]===n[0]&&a!==i){for(var u in _gLoadedModules){var r=_gLoadedModules[u];r&&0===r.indexOf("modules/")&&-1===r.indexOf("modules/base/")&&(console.log("try unload module: "+r),requirejs.undef(r))}_gLoadedModules=[]}_gLoadedModules.push(o.name),_gLastUrl=window.location.href}};