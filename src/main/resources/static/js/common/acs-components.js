define(["jquery","knockout","acs-resource","alert-utils","resource-bundle","jPages","moment","httputils","dialog-utils","bootstrap-select","chosen"],function(e,t,a,n,s,l,i,o,r){t.bindingHandlers.preventBubble={init:function(e,a){var n=t.utils.unwrapObservable(a());t.utils.registerEventHandler(e,n,function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()})}},t.bindingHandlers.hasFocus={init:function(t,a){e(t).focus(function(){var e=a();e(!0)}),e(t).blur(function(){var e=a();e(!1)})},update:function(a,n){var s=n();t.unwrap(s)?(a.focus(),e("span[data-rel-element='"+e(a).attr("id")+"'].tooltipstered").tooltipster("option","autoClose",!1).tooltipster("show")):(a.blur(),e("span[data-rel-element='"+e(a).attr("id")+"'].tooltipstered").tooltipster("option","autoClose",!0).tooltipster("hide"))}},t.bindingHandlers.i18n={update:function(a,n){var l=t.unwrap(n());if("object"==typeof l){var i=s.getString(l.key,l.params,l.truncate);if(l.truncate&&l.truncate.options){var o=l.truncate.options.length||40;i.length>o?(a.innerHTML=i.substring(0,o)+"...",e(a).tooltipster({content:i,theme:"tooltipster-shadow"})):a.innerHTML=i}else a.innerHTML=i}else a.innerHTML=s.getString(l)}},t.bindingHandlers.title={update:function(e,a){var n=t.unwrap(a()),l=s.getString(n);e.setAttribute("title",l)}};var d=function(a){if(a.title_key||a.title){var n="right";"tooltipPosition"in a&&(n=a.tooltipPosition),e("span[data-rel-element='"+a.id+"']").tooltipster({position:n,theme:"tooltipster-shadow"})}"undefined"!=typeof a.value&&a.value.rules&&e.each(a.value.rules(),function(n,s){("required"==s.rule||"required"==s.rule&&"function"==typeof s.rule)&&e("label[for='"+a.id+"']").text(1!=t.unwrap(a.read_only)&&s.params===!0?b(a)+" *":b(a))})},c=function(e){var a="";return a=e.title_key?s.getString(t.isObservable(e.title_key)?t.unwrap(e.title_key):e.title_key):(t.isObservable(e.title)?t.unwrap(e.title):e.title)||""},b=function(e){var a="";return a=e.label_key?s.getString(t.isObservable(e.label_key)?t.unwrap(e.label_key):e.label_key):(t.isObservable(e.label)?t.unwrap(e.label):e.label)||""},p=function(e){var t=null;return t=e.options_caption_key?s.getString(e.options_caption_key):e.options_caption||null},u=function(e){var t="",a=b(e),n="function"==typeof a?a().length:a.length;return t="labelWidth"in e?e.labelWidth:0==n?"hidden":"col-md-5 col-sm-4 col-xs-12",e.labelNoPadding&&(t+=" no-padding"),t},f=function(e){var t,a,n="",s=c(e),l=b(e),i="read_only"in e?e.read_only:!1;return t="function"==typeof l?l().length:l.length,a="function"==typeof s?s().length:s.length,"fieldWidth"in e?n=e.fieldWidth:i?t>0?n="col-md-6 col-sm-7 col-xs-7":0==t&&(n="col-md-12 no-padding"):a>0&&t>0?n="col-md-6 col-sm-7 col-xs-7":0==a&&0==t&&(n="col-md-12 no-padding"),e.fieldNoPadding&&-1==n.indexOf("no-padding")&&(n+=" no-padding"),n};t.components.register("acs-input-text",{synchronous:!0,viewModel:{createViewModel:function(e){return this.afterRender=function(){d(e)},this.getSecondaryLabel=function(e){var a;return a="secondaryLabel"in e?"function"==typeof e.secondaryLabel?e.secondaryLabel:t.observable(e.secondaryLabel):t.observable("")},"read_only"in e&&t.isObservable(e.read_only)&&e.read_only.subscribe(function(t){d(e)}),{label:b(e),secondaryLabel:this.getSecondaryLabel(e),secondaryLabelWidth:"secondaryLabelWidth"in e?e.secondaryLabelWidth:"",title:c(e),inputWidth:e.inputWidth,labelClass:u(e),fieldClass:f(e),placeHolder:e.place_holder||"",value:e.value,id:e.id,maxLength:e.maxlength||255,isSelected:t.isObservable(e.hasFocus)?e.hasFocus:t.observable(e.hasFocus),disabled:"disabled"in e?e.disabled:t.observable(!1),readOnly:"read_only"in e?t.isObservable(e.read_only)?e.read_only:t.observable(e.read_only):t.observable(!1),noPadding:"noPadding"in e?e.noPadding:!1,smallFont:"smallFont"in e?e.smallFont:!1,afterRender:this.afterRender,eventHandler:e.event_handler||void 0}}},template:'<div data-bind="css: labelClass"><label data-bind="text: label, attr: {for: id }, css: {\'txt-10\': smallFont}"></label></div>\r\n            <div data-bind="css: fieldClass">\r\n                <input type="text" data-bind="value: value, event: {keydown: eventHandler}, valueUpdate:[\'afterkeydown\'], disable: disabled, hasFocus: isSelected, focus: isSelected(true), attr:{id: id, placeholder: placeHolder,maxlength: maxLength}, style: {width: inputWidth}, css: {\'hidden\': readOnly}" class="form-control">\r\n                <div data-bind="css: {\'hidden\': readOnly() == false}" class="read-only">\r\n                    <span data-bind="text: value, css: {\'txt-10\': smallFont}"></span>\r\n                    <span data-bind="text: secondaryLabel"></span>\r\n                </div>\r\n            </div>\r\n            <!-- ko if:secondaryLabel().length > 0 -->\r\n                <div data-bind="attr: {class: secondaryLabelWidth}, css: {\'hidden\': readOnly}">\r\n                    <span class="read-only" data-bind="text: secondaryLabel"></span>\r\n                </div>\r\n            <!-- /ko -->\r\n            <!-- ko if:title.length > 0 -->\r\n                <div class="col-md-1 col-sm-1 col-xs-1" data-bind="css: {\'hidden\': readOnly}"><span class="icon-info" data-bind="attr: { \'data-rel-element\': id, title: title}"></span></div>\r\n            <!-- /ko -->\r\n            <span data-bind="template: {afterRender: afterRender}"></span>'}),t.components.register("acs-password",{synchronous:!0,viewModel:{createViewModel:function(a,n){var s=this;return this.showPassword=t.observable(!1),this.afterRender=function(){d(a),e(".password-show").tooltipster({position:"right",theme:"tooltipster-shadow"})},this.togglePasswordVisbility=function(){var t=e(n.element).find("input"),a=e(n.element).find(".password-input a");s.showPassword(!s.showPassword()),s.showPassword()?(t.attr("type","text"),a.tooltipster("content","Hide Password"),a.addClass("password-hide").removeClass("password-show")):(t.attr("type","password"),a.tooltipster("content","Show Password"),a.addClass("password-show").removeClass("password-hide"))},"read_only"in a&&t.isObservable(a.read_only)&&a.read_only.subscribe(function(e){d(a)}),{label:b(a),title:c(a),labelClass:u(a),fieldClass:f(a),placeHolder:a.place_holder||"",value:a.value,maskedValue:"************",id:a.id,maxLength:a.maxlength||255,isSelected:t.isObservable(a.hasFocus)?a.hasFocus:t.observable(a.hasFocus),disabled:"disabled"in a?a.disabled:t.observable(!1),afterRender:this.afterRender,readOnly:"read_only"in a?a.read_only:t.observable(!1),showPassword:this.showPassword,togglePasswordVisibility:this.togglePasswordVisbility,enableShowPassword:"enableShowPassword"in a?a.enableShowPassword:t.observable(!1),eventHandler:a.event_handler||null}}},template:'<!-- ko ifnot:readOnly -->\r\n                <!-- ko if:label.length > 0 -->\r\n                    <div data-bind="css: labelClass">\r\n                        <label data-bind="text: label, attr:{for:id }"></label>\r\n                    </div>\r\n                <!-- /ko -->\r\n                <div data-bind="css: fieldClass" class="password-input">\r\n                    <input type="password" data-bind="value: value, valueUpdate:[\'afterkeydown\'], hasFocus: isSelected, focus: isSelected(true), disable: disabled, event: {keydown: eventHandler}, attr:{id: id, placeholder: placeHolder,maxlength: maxLength} " class="form-control">\r\n                    <!-- ko if:enableShowPassword -->\r\n                        <a href="javascript:;" class="password-show" data-bind="click: togglePasswordVisibility" title="Show Password"></a>\r\n                    <!-- /ko -->\r\n                </div>\r\n                <!-- ko if:title.length > 0 -->\r\n                    <div class="col-md-1 col-sm-1 col-xs-1"><span class="icon-info" data-bind="attr: { \'data-rel-element\': id, title: title}"></span></div>\r\n                <!-- /ko -->\r\n            <!-- /ko -->\r\n            <!-- ko if:readOnly -->\r\n                <div data-bind="css: {\'hidden\': ((typeof label == \'function\')? label().length: label.length) == 0}" class="col-md-5 col-sm-4 col-xs-12"><label data-bind="i18n: label, attr:{for:id }"></label></div>\r\n                <div data-bind="css: {\'col-md-12 no-padding\': ((typeof label == \'function\')? label().length: label.length) == 0, \'col-md-6 col-sm-7 col-xs-7\': ((typeof label == \'function\')? label().length: label.length) > 0}">\r\n                    <span data-bind="text: maskedValue" class="read-only"></span>\r\n                </div>\r\n            <!-- /ko -->\r\n                <span data-bind="template: { afterRender: afterRender }">'}),t.components.register("acs-checkbox",{synchronous:!0,viewModel:{createViewModel:function(e){var a=t.observable(""),n="<span class='txt-green fa fa-lg fa-check-circle'></span> ",l=this;l.checkMarkup=t.observable(""),"read_only"in e&&(this.checkMarkup(t.unwrap(e.value)?n:""),a("readOnlyLabel"in e?e.readOnlyLabel:t.unwrap(e.value)?" Checked":"Not Checked")),t.isObservable(e.value)&&e.value.subscribe(function(e){e?(l.checkMarkup(n),a(" Checked")):(l.checkMarkup(""),a("Not Checked"))}),this.afterRender=function(){d(e)};var i=function(e){var t=null;return t=e.checkBoxLabel_key?s.getString(e.checkBoxLabel_key):e.checkBoxLabel||""},o=function(e){return e.smallFont?"txt-10 txt-gray-darker":"label-dark"};return{label:b(e),title:c(e),labelClass:u(e),fieldClass:f(e),checkboxLabelClass:o(e),value:e.value,id:e.id,isSelected:t.isObservable(e.hasFocus)?e.hasFocus:t.observable(e.hasFocus),checkMarkup:l.checkMarkup,checkBoxLabel:i(e),checkboxLabelWidth:e.checkboxLabelWidth,disabled:"disabled"in e?e.disabled:t.observable(!1),readOnly:"read_only"in e?e.read_only:t.observable(!1),readOnlyLabel:a,readOnlyCheckedLabel:e.readOnlyCheckedLabel,readOnlyUncheckedLabel:e.readOnlyUncheckedLabel,smallFont:"smallFont"in e?e.smallFont:!1,infoNoPadding:"infoNoPadding"in e?e.infoNoPadding:!1,afterRender:this.afterRender}}},template:'<!-- ko ifnot:readOnly -->\r\n                <!-- ko if:label.length > 0 -->\r\n                    <div data-bind="css: labelClass"><label data-bind="text: label, attr:{for:id }, css: {\'small\': smallFont}"></label></div>\r\n                <!-- /ko -->\r\n                <div data-bind="css: fieldClass">\r\n                    <label class="checkbox">\r\n                        <input type="checkbox" data-bind="checked: value, hasFocus: isSelected, disable: disabled, attr:{ id: id }"/>\r\n                        <span data-bind="text: checkBoxLabel, css: checkboxLabelClass, style: {width: checkboxLabelWidth}"></span>\r\n                    </label>\r\n                </div>\r\n                <!-- ko if:title.length > 0 -->\r\n                    <div class="col-md-1 col-sm-1 col-xs-1">\r\n                        <span class="icon-info" data-bind="attr: {\'data-rel-element\': id, title: title}"></span>\r\n                    </div>\r\n                <!-- /ko -->\r\n            <!-- /ko  -->\r\n            <!-- ko if:readOnly -->\r\n                <div data-bind="css: labelClass"><label data-bind="i18n: label, attr:{for:id }"></label></div>\r\n                    <div data-bind="css: fieldClass">\r\n                        <span class="read-only">\r\n                            <span data-bind="html: checkMarkup"></span>\r\n                            <!-- ko if:readOnlyCheckedLabel -->\r\n                                <!-- ko if:value -->\r\n                                    <span data-bind="text: readOnlyCheckedLabel"></span>\r\n                                <!-- /ko  -->\r\n                                <!-- ko ifnot:value -->\r\n                                    <span data-bind="html: readOnlyUncheckedLabel"></span>\r\n                                <!-- /ko  -->\r\n                            <!-- /ko  -->\r\n                            <!-- ko ifnot:readOnlyCheckedLabel -->\r\n                                <span data-bind="html: readOnlyLabel"></span>\r\n                            <!-- /ko  -->\r\n                        </span>\r\n                    </div>\r\n            <!-- /ko -->\r\n            <span data-bind="template:{ afterRender: afterRender }">'}),t.components.register("acs-dropdown",{synchronous:!0,viewModel:{createViewModel:function(a){var n=t.observable("");return e.each(t.unwrap(a.options),function(e,t){t[a.options_value]==a.value()?n(t[a.options_text]):t==a.value()&&n(t)}),this.afterRender=function(){d(a)},"read_only"in a&&t.isObservable(a.read_only)&&a.read_only.subscribe(function(e){d(a)}),t.isObservable(a.value)&&a.value.subscribe(function(s){e.each(t.unwrap(a.options),function(e,t){t[a.options_value]==s?n(t[a.options_text]):t==s&&n(t)})}),{label:b(a),title:c(a),labelClass:u(a),fieldClass:f(a),value:a.value,id:a.id,isSelected:t.isObservable(a.hasFocus)?a.hasFocus:t.observable(a.hasFocus),options:t.isObservable(a.options)?a.options:t.observableArray(a.options),optionsText:a.options_text||"",optionsValue:a.options_value||"",disabled:"disabled"in a?a.disabled:t.observable(!1),selectedOption:n,optionsCaption:p(a),readOnly:"read_only"in a?t.isObservable(a.read_only)?a.read_only:t.observable(a.read_only):t.observable(!1),smallFont:"smallFont"in a?a.smallFont:!1,dropdownWidth:a.dropdownWidth,afterRender:this.afterRender}}},template:'<!-- ko if:label.length > 0 -->\r\n                <div data-bind="css: labelClass"><label data-bind="text: label, attr : { for:id }, css: {\'txt-10\': smallFont}"></label></div>\r\n            <!-- /ko -->\r\n            <div data-bind="attr: {class: fieldClass}, css: {\'hidden\': readOnly}">\r\n                <!-- ko if:optionsText.length > 0 && optionsValue.length > 0 -->\r\n                    <select data-bind="value: value, hasFocus: isSelected, disable: disabled, options: options(), optionsText: optionsText, optionsValue: optionsValue, optionsCaption: optionsCaption, attr: { id: id }, style: {width: dropdownWidth}"/>\r\n                <!-- /ko -->\r\n                <!-- ko ifnot:optionsText.length > 0 && optionsValue.length > 0 -->\r\n                    <select data-bind="value: value, hasFocus: isSelected, disable: disabled, options: options(), optionsCaption: optionsCaption, attr: { id: id }"/>\r\n                <!-- /ko -->\r\n            </div>\r\n            <div data-bind="attr: {class: fieldClass}, css: {\'hidden\': readOnly() == false}">\r\n                <span class="read-only" data-bind="text: selectedOption"></span>\r\n            </div>\r\n            <!-- ko if:title.length > 0 -->\r\n                <div class="col-md-1 col-sm-1 col-xs-1" data-bind="css: {\'hidden\': readOnly}"><span class="icon-info" data-bind="attr: {\'data-rel-element\': id, title: title}"></span></div>\r\n            <!-- /ko -->\r\n            <span data-bind="template: { afterRender: afterRender }">'}),t.components.register("acs-button",{synchronous:!0,viewModel:{createViewModel:function(a){this.afterRender=function(){(a.title_key||a.title)&&e("span[data-rel-element='"+a.id+"']").tooltipster({theme:"tooltipster-shadow"})};var s=t.isObservable(a.loading)?a.loading:t.observable(!1),l=t.isObservable(a.disabled)?a.disabled:t.observable(!1),i=a.icon_position||"left",o=t.pureComputed(function(){return s()?"fa fa-spin fa-refresh "+i:a.icon_class?a.icon_class+" "+i:i}),r=t.pureComputed(function(){return l()?c(a):null});return{label:b(a),id:a.id,action:function(e,t){("click"==t.type||"keypress"==t.type&&32==t.keyCode)&&(n.hideAlert(),a.action())},buttonCSS:o,loading:s,title:r,disabled:l,afterRender:this.afterRender}}},template:'<span class="inline-block" data-bind="attr: {\'data-rel-element\': id, title: title}">\r\n                <a href="#" role="button" class="btn btn-primary" data-bind="event: {keypress: action}, css: {disabled: disabled() || loading() }, click: action, attr: {id: id}">\r\n                    <span data-bind="css: buttonCSS"></span><span data-bind="text: label"></span>\r\n                </a>\r\n            </span>\r\n        <span data-bind="template: { afterRender: afterRender }">'}),t.components.register("acs-sec-button",{synchronous:!0,viewModel:{createViewModel:function(a){var s=t.isObservable(a.disabled)?a.disabled:t.observable(!1),l=t.pureComputed(function(){return s()?c(a):null});return this.afterRender=function(){(a.title_key||a.title)&&e("#"+a.id).tooltipster({theme:"tooltipster-shadow"})},this.clickAction=function(){n.hideAlert(),"function"==typeof a.click_action&&a.click_action()},{label:b(a),id:a.id,clickAction:this.clickAction,iconClass:a.icon_class,btnType:a.btn_type,iconPosition:a.icon_position||"left",hrefAction:a.href_action||"#",title:l,disabled:s,afterRender:this.afterRender}}},template:'<!-- ko if:btnType == "button" --><button class="btn btn-default tipster" type="button" data-bind="css: {disabled: disabled()}, click: clickAction, attr: {id: id, title: title}">\r\n        <span data-bind="attr: {class: iconClass}, css: {\'float-right\': iconPosition == \'right\', \'float-left\': iconPosition == \'left\'}" class="fa"></span><span data-bind="text: label"></span></button> <!-- /ko -->\r\n        <!-- ko if:btnType == "anchor" --><a data-bind="attr: {id: id, href: hrefAction}, click: clickAction, text: label"></a><!-- /ko -->\r\n        <span data-bind="template: { afterRender: afterRender }">'}),t.components.register("acs-panel",{synchronous:!0,viewModel:{createViewModel:function(e,t){return this.afterRender=function(){},{childNodes:t.templateNodes,data:e.data,panelClass:e.panel_class||"",afterRender:this.afterRender}}},template:'<div data-bind="attr: {class: panelClass}, template: { nodes: $componentTemplateNodes, data: data }"></div>\r\n        <span data-bind="template: {afterRender: afterRender}"></span>'}),t.components.register("acs-list",{synchronous:!0,viewModel:{createViewModel:function(a){return this.afterRender=function(){d(a),e("#"+a.id+" .tipster").tooltipster({position:"top",theme:"tooltipster-shadow"})},this.addAction=function(e,t){n.hideAlert(),"function"==typeof a.add_action&&a.add_action(e,t)},this.removeAction=function(e,t){n.hideAlert(),"function"==typeof a.remove_action&&a.remove_action(e,t)},t.isObservable(a.value)&&a.value.subscribe(function(){setTimeout(function(){e("#"+a.id+" .tipster:not(.tooltipstered)").tooltipster({position:"top",theme:"tooltipster-shadow"})},0)}),"read_only"in a&&t.isObservable(a.read_only)&&a.read_only.subscribe(function(e){d(a)}),{label:b(a),title:c(a),labelClass:u(a),fieldClass:f(a),value:a.value,id:a.id,readOnly:"read_only"in a?t.isObservable(a.read_only)?a.read_only:t.observable(a.read_only):t.observable(!1),addAction:this.addAction,removeAction:this.removeAction,smallFont:"smallFont"in a?a.smallFont:!1,afterRender:this.afterRender}}},template:'<!-- ko if:label.length > 0 -->\r\n        <div data-bind="css: labelClass"> \r\n            <label data-bind="text: label, attr : { for:id }, css: {\'small\': smallFont}"></label> \r\n        </div>\r\n        <!-- /ko -->\r\n        <div data-bind="css: fieldClass">\r\n            <ul data-bind="value: value, attr : { id :id }" class="list-unstyled select-list">\r\n                <!-- ko if: (value().length == 0 && !readOnly()) -->\r\n                <li class="select-list-single-line">\r\n                    None\r\n                    <a href="#" data-bind="click:addAction" class="tipster" title="Select">\r\n                        <span class="fa-plus-circle fa select-list-action-icon"></span>Select\r\n                    </a>\r\n                </li>\r\n                <!-- /ko -->\r\n                <!-- ko foreach: value -->\r\n                <li>\r\n                    <!-- ko ifnot: $parent.readOnly() -->\r\n                    <span class="actions">\r\n                        <a href="#" class="tipster" data-bind="click: $parent.removeAction" title="Remove">\r\n                            <span class="fa-remove fa"></span>\r\n                        <em class="hidden">Remove</em></a>\r\n                    </span>\r\n                    <!-- /ko -->\r\n                    <span data-bind="html: $data" class="dark-label"></span>\r\n                </li>\r\n                <!-- /ko -->\r\n                <!-- ko if: (value().length > 0  && !readOnly()) -->\r\n                <li class="select-list-action">\r\n                    <a href="#" data-bind="click:addAction">\r\n                        <span class="fa-plus-circle fa select-list-action-icon"></span>\r\n                        Add\r\n                    </a>\r\n                </li>\r\n                <!-- /ko -->\r\n            </ul>\r\n        </div>\r\n        <!-- ko if: (title.length > 0  && !readOnly()) -->\r\n        <div class="col-md-1 col-sm-1 col-xs-1"><span class="icon-info" data-bind="attr: { \'data-rel-element\': id, title: title}"></span></div>\r\n        <!-- /ko -->\r\n        <span data-bind="template: { afterRender: afterRender }">'}),t.components.register("acs-text-area",{synchronous:!0,viewModel:{createViewModel:function(a){var n=a.max_height||"200px",s=a.max_length||255;return this.afterRender=function(){d(a),a.fixed_size?e("#"+a.id).css({height:n,"max-height":n,resize:"none"}):require(["jquery.autosize"],function(){e("#"+a.id).css({"max-height":n,resize:"vertical"}).autosize()})},"read_only"in a&&t.isObservable(a.read_only)&&a.read_only.subscribe(function(e){d(a)}),{label:b(a),title:c(a),labelClass:u(a),fieldClass:f(a),showCharacterCount:"showCharacterCount"in a?a.showCharacterCount:!0,placeHolder:a.place_holder||"",value:a.value,id:a.id,isSelected:t.isObservable(a.hasFocus)?a.hasFocus:t.observable(a.hasFocus),disabled:"disabled"in a?a.disabled:t.observable(!1),rows:a.rows||5,maxLength:s,charsLeftMsg:t.pureComputed(function(){var e=s-(a.value()?a.value().length:0);return 1!=e?"("+e+" characters left)":"("+e+" character left)"}),readOnly:"read_only"in a?t.isObservable(a.read_only)?a.read_only:t.observable(a.read_only):t.observable(!1),afterRender:this.afterRender,eventHandler:a.event_handler||void 0}}},template:'<!-- ko if:label.length > 0 --> \r\n                <div data-bind="css: labelClass"><label data-bind="text: label, attr:{for:id }"></label></div> \r\n            <!-- /ko --> \r\n            <div data-bind="css: fieldClass"> \r\n                <div data-bind="css: {\'hidden\': readOnly}">\r\n                    <textarea data-bind="value: value, event: {keydown: eventHandler}, valueUpdate:[ \'afterkeydown \'],\r\n                        disable: disabled, hasFocus: isSelected, focus: isSelected(true),\r\n                        attr:{id: id, placeholder: placeHolder, rows: rows, maxlength: maxLength}" class="form-control"> \r\n                    </textarea>\r\n                    <!-- ko if:showCharacterCount --> \r\n                        <div class="character-count" data-bind="text: charsLeftMsg"></div>\r\n                    <!-- /ko -->\r\n                </div>\r\n                <div data-bind="css: {\'hidden\': readOnly() == false}, text: value" class="read-only">\r\n                </div>\r\n            </div>\r\n            <!-- ko if:title.length > 0 --> \r\n                <div class="col-md-1 col-sm-1 col-xs-1" data-bind="css: {\'hidden\': readOnly}">\r\n                    <span class="icon-info" data-bind="attr: {  \'data-rel-element\': id, title: title}"></span>\r\n                </div> \r\n            <!-- /ko --> \r\n        <span data-bind="template: {afterRender: afterRender}"></span>'}),t.components.register("acs-table-step",{synchronous:!0,viewModel:{createViewModel:function(t){var a,n=function(t,a){var n=e.type(t);return"string"===n?(t=t.trim(),0==t.length?a:parseInt(t)):"number"===n?t:a},s=n(t.totalSteps,5),l=n(t.currentStep,1),i="",o="paginate-status",r=[],d=!1;("number"===e.type(t.currentStepName)||"string"===e.type(t.currentStepName)||"date"===e.type(t.currentStepName))&&(i=t.currentStepName);var c=i.toLowerCase();if(c.match("cancel")?(o="paginate-status cancelled",d=!0):o=c.match("complete")?"paginate-status completed":"paginate",l>s)throw"currentStep is bigger than totalSteps, the currentStep value is "+l+", and the totalSteps value is "+s+".";for(a=1;s>=a;a++)r.push({style:l>=a&&!d?"current":"disabled",step:a});return{currentStep:l,currentStepName:i,stepArray:r,statusCss:o}}},template:'<div data-bind="css: statusCss">\r\n            <span data-bind="foreach: stepArray"  >\r\n               <span data-bind="text: step, attr: {class: style}"></span>\r\n             </span>\r\n            </div>\r\n        	 <div data-bind="text: currentStepName"></div>\r\n        	'}),t.components.register("acs-date-picker",{synchronous:!0,viewModel:{createViewModel:function(a){var n={useCurrent:!0,inline:!1,minDate:(new Date).getTime(),format:"MM/DD/YY HH:mm",defaultDate:new Date},s=n,l=!1,o=new t.observable;return a.value&&a.value.rules&&a.value.rules().length>0&&(l=!0),a.options&&(s=e.extend(!0,n,a.options),s.timeZone&&delete s.timeZone),"read_only"in a&&t.isObservable(a.read_only)&&a.read_only.subscribe(function(e){d(a)}),a.value&&(t.isObservable(a.value)?(o(a.value()?i(a.value()).format(s.format):i(s.defaultDate).format(s.format)),a.value.subscribe(function(e){o(e?i(e).format(s.format):i(s.defaultDate).format(s.format))})):o(a.value?i(a.value).format(s.format):i(s.defaultDate).format(s.format))),this.afterRender=function(){d(a)},{label:b(a),title:c(a),labelClass:u(a),fieldClass:f(a),value:a.value||null,id:a.id,inline:s.inline||!1,dateOptions:s,tz:a.options.timeZone?a.options.timeZone:null,readOnlyValue:o,disabled:"disabled"in a?a.disabled:t.observable(!1),readOnly:"read_only"in a?a.read_only:t.observable(!1),afterRender:this.afterRender,eventHandler:a.event_handler||void 0,showErrTmpl:l}}},template:'<!-- ko ifnot:readOnly -->\r\n                <!-- ko if:label.length > 0 -->\r\n                    <div data-bind="css:labelClass"><label data-bind="text: label, attr:{for:id }"></label></div>\r\n                <!-- /ko -->\r\n                <div data-bind="validationOptions:{insertMessages:false},datetimepicker:value,css:fieldClass " class="date-picker">\r\n                    <!-- ko ifnot:inline -->\r\n                    <input type="text" data-bind="dateTimePicker:value,dateOptions:dateOptions,timeZone:tz,event: {\'dp.change\': eventHandler},valueUpdate:[\'dp.change\'], disable: disabled, attr:{id: id}" class="form-control">\r\n                    <!-- /ko -->\r\n                    <!-- ko if:inline -->\r\n                        <div data-bind="dateTimePicker:value,dateOptions:dateOptions,timeZone:tz,event: {\'dp.change\': eventHandler},valueUpdate:[\'dp.change\'], disable: disabled, attr:{id: id}" class="form-control"></div>\r\n                    <!--/ko-->\r\n                    <!-- ko if:showErrTmpl -->\r\n                    <span data-bind="template: {name:\'acsValidationTemplate\', data:{field:value}}"></span>\r\n                    <!--/ko-->\r\n                </div>\r\n                <!-- ko if:title.length > 0 -->\r\n                    <div class="col-md-1 col-sm-1 col-xs-1"><span class="icon-info" data-bind="attr: { \'data-rel-element\': id, title: title}"></span></div>\r\n                <!-- /ko -->\r\n            <!-- /ko -->\r\n            <!-- ko if:readOnly -->\r\n                <!-- ko if:label.length > 0 -->\r\n                    <div data-bind="css:labelClass"><label data-bind="text: label"></label></div>\r\n                <!-- /ko -->\r\n                <div data-bind="css: fieldClass">\r\n                    <span data-bind="text: readOnlyValue" class="read-only"></span>\r\n                </div>\r\n            <!-- /ko -->\r\n            <span data-bind="template: {afterRender: afterRender}"></span>'}),t.components.register("acs-widget",{synchronous:!0,require:__MODULE_PREFIX__("assets","js/lib/widget/widgetViewModel")}),t.components.register("acs-dashboard",{synchronous:!0,require:__MODULE_PREFIX__("assets","js/lib/dashboard/dashboardViewModel")}),t.components.register("acs-wizard-new",{synchronous:!0,require:__MODULE_PREFIX__("assets","js/common/acs-wizard/acs-wizard")}),t.components.register("acs-week-line",{synchronous:!0,viewModel:{createViewModel:function(e){this.afterRender=function(){d(e)},this.toggleHighlight=function(){this.selected(!this.selected());for(var t=[],a=0;a<n.length;a++)e.single_selection_mode&&this.selected()&&n[a].code!=this.code&&n[a].selected(!1),n[a].selected()===!0&&t.push(n[a].code);e.value(t)},this.toggle=function(){a(!a())};var a=t.observable(!1),n=[{day:"Mo",code:1,style:"btn-default",selected:t.observable(!1)},{day:"Tu",code:2,style:"btn-default",selected:t.observable(!1)},{day:"We",code:3,style:"btn-default",selected:t.observable(!1)},{day:"Th",code:4,style:"btn-default",selected:t.observable(!1)},{day:"Fr",code:5,style:"btn-default",selected:t.observable(!1)},{day:"Sa",code:6,style:"btn-default",selected:t.observable(!1)},{day:"Su",code:0,style:"btn-default",selected:t.observable(!1)}],s=e.value();if(s)for(var l=0;l<s.length;l++)for(var i=0;i<n.length;i++)if(s[l]===n[i].code){n[i].selected(!0);break}return t.isObservable(e.value)&&e.value.subscribe(function(){for(var t=0;t<e.value().length;t++)for(var a=0;a<n.length;a++)if(e.value()[t]===n[a].code){n[a].selected(!0);break}}),{label:b(e),title:c(e),labelClass:u(e),fieldClass:f(e)+" button-list",value:e.value,id:e.id,selectedBtn:a,disabled:"disabled"in e?e.disabled:t.observable(!1),readOnly:"read_only"in e?e.read_only:!1,afterRender:this.afterRender,eventHandler:e.event_handler||void 0,daysArray:n,toggleHighlight:this.toggleHighlight,toggle:this.toggle}}},template:'<!-- ko if:label.length > 0 -->\r\n                    <div data-bind="css: labelClass"><label data-bind="text: label, attr : { for:id }"></label></div>\r\n            <!-- /ko -->\r\n            <!-- ko ifnot: readOnly -->\r\n            <div data-bind="attr:{id: id},event: { mouseover: toggle, mouseout: toggle },hasFocus:selectedBtn,validationOptions:{insertMessages:false},css: fieldClass">\r\n            <!-- ko foreach: daysArray -->\r\n                <button class = "btn btn-default" data-bind="text:day,css:{ &quot;orange-light&quot;: selected },click:$parent.toggleHighlight">\r\n                </button>\r\n                <!-- /ko -->\r\n                <span data-bind="template: {name:\'acsValidationTemplate\', data:{field:value}}"></span>\r\n            </div>\r\n            <!-- ko if:title.length > 0 -->\r\n                <div class="col-md-1 col-sm-1 col-xs-1"><span class="icon-info" data-bind="attr: { \'data-rel-element\': id, title: title}"></span></div>\r\n            <!-- /ko -->\r\n            <!--/ko-->\r\n            <!--ko if:readOnly-->\r\n            <div data-bind="css: fieldClass">\r\n                <!-- ko foreach: daysArray -->\r\n                <button class = "btn btn-default" data-bind="text:day,css:{ &quot;orange-light&quot;: selected }">\r\n                </button>\r\n                <!-- /ko -->\r\n            </div>\r\n            <!--/ko-->\r\n            <span data-bind="template: { afterRender: afterRender }">'}),t.components.register("acs-file-input",{synchronous:!0,viewModel:{createViewModel:function(t){return this.afterRender=function(){d(t),e("#"+t.id).customFile()},this.getFileInputFieldClass=function(e){return f(e)+" acs-file-input-container"},e.fn.customFile=function(){return this.each(function(){var a,n=e(this).addClass("custom-file-upload-hidden"),s=e('<div class="file-upload-wrapper">'),l=/msie/i.test(navigator.userAgent),i=e('<button type="button" class="btn btn-default file-upload-button">Browse</button>'),o=e('<label class="file-upload-button" for="'+n[0].id+'">Browse</label>');a=e(t.inputWidth?'<input type="text" class="file-upload-input" style="width: '+t.inputWidth+'"/>':'<input type="text" class="file-upload-input" />'),n.css({position:"absolute",left:"-9999px"}),s.insertAfter(n).append(n,a,l?o:i),n.attr("tabIndex",-1),i.attr("tabIndex",-1),i.click(function(){n.focus().click()}),a.click(function(){n.focus().click()}),n.change(function(){var e;e=n.val().split("\\").pop(),a.val(e).attr("title",e).focus()}),a.on({blur:function(){n.trigger("blur");

},keydown:function(e){if(13===e.which)l||n.trigger("click");else{if(8!==e.which&&46!==e.which)return 9===e.which?void 0:!1;n.replaceWith(n=n.clone(!0)),n.trigger("change"),a.val("")}}})})},{title:c(t),label:b(t),labelClass:u(t),fieldClass:this.getFileInputFieldClass(t),inputWidth:t.inputWidth,id:t.id,accept:t.accept,afterRender:this.afterRender,onChangeHandler:t.onChangeHandler||null}}},template:'<!-- ko if:label.length > 0 -->\r\n            <div data-bind="css: labelClass"><label data-bind="text: label, attr : { for:id }"></label></div>\r\n            <!-- /ko -->\r\n            <div data-bind="css: fieldClass">\r\n            <input class="acs-file-input" type="file" data-bind="event: {change: onChangeHandler}, attr: {id: id, accept: accept}"/>\r\n            </div>\r\n            <!-- ko if:title.length > 0 -->\r\n            <div class="col-md-1 col-sm-1 col-xs-1"><span class="icon-info" data-bind="attr: { \'data-rel-element\': id, title: title}"></span></div>\r\n            <!-- /ko -->\r\n            <span data-bind="template: { afterRender: afterRender }">'}),t.components.register("acs-input-radio",{synchronous:!0,viewModel:{createViewModel:function(e){return this.afterRender=function(){d(e)},this.getRadioButtonLabelClass=function(e){return e.smallFont?"txt-10 label-dark":"label-dark float-left"},"read_only"in e&&t.isObservable(e.read_only)&&e.read_only.subscribe(function(t){d(e)}),{label:b(e),title:c(e),labelClass:u(e),fieldClass:f(e),radioButtonLabelClass:this.getRadioButtonLabelClass(e),items:e.items,id:e.id,value:e.value,readOnly:"read_only"in e?t.isObservable(e.read_only)?e.read_only:t.observable(e.read_only):t.observable(!1),smallFont:"smallFont"in e?e.smallFont:!1,afterRender:this.afterRender}}},template:'<!-- ko if:label.length > 0 -->\r\n            <div data-bind="css: labelClass">\r\n                <label data-bind="text: label, css: {\'small\': smallFont}"></label>\r\n            </div>\r\n        <!-- /ko -->\r\n        <div data-bind="css: fieldClass">\r\n            <div data-bind="css: {\'hidden\': readOnly}, foreach: items">\r\n                <label class="radio">\r\n                    <input name="items" type="radio" style="float:left;" data-bind="value: value, checked: $parent.value, disable: disabled, attr:{ id: id }"/>\r\n                    <span data-bind="html:name, css: $parent.radioButtonLabelClass"></span>\r\n                </label>\r\n            </div>\r\n            <div data-bind="css: {\'hidden\': readOnly() == false}" class="read-only">\r\n                <span data-bind="text: value, css: {\'small\': smallFont}"></span>\r\n            </div>\r\n        </div>\r\n        <!-- ko if:title.length > 0 -->\r\n            <div data-bind="css: {\'hidden\': readOnly}" class="col-md-1 col-sm-1 col-xs-1"><span class="icon-info" data-bind="attr: {\'data-rel-element\': id, title: title}"></span></div>\r\n        <!-- /ko -->\r\n        <span data-bind="template:{ afterRender: afterRender }">'}),t.components.register("acs-wizard",{synchronous:!0,viewModel:{createViewModel:function(e){if(e.steps){var t,a=e.steps,n=0;for(t=0;t<a.length;t++)if(a[t].current){n=t;break}for(t=0;t<a.length;t++)a[t].number=t+1,(null==a[t].disabled||"undefined"==typeof a[t].disabled)&&(a[t].disabled=!1),"undefined"==typeof a[t].clickCallback&&(a[t].clickCallback=null),"undefined"==typeof a[t].link&&(a[t].link="javascript:void(0)"),"undefined"==typeof a[t].passed&&(a[t].passed=n>t),a[t].last=t==a.length-1,a[t].current=t==n}return{title:e.title,titleIcon:e.titleIcon,subtitle:e.subtitle,steps:e.steps,pageBodyTemplate:e.pageBodyTemplate,footerButtonTemplate:e.footerButtonTemplate,viewModel:e.viewModel,backCallback:e.backCallback,nextCallback:e.nextCallback,cancelCallback:e.cancelCallback,cancelDisabled:e.cancelDisabled,backDisabled:e.backDisabled,nextLabel:e.nextLabel,nextIcon:e.nextIcon,nextDisabled:e.nextDisabled,afterRender:e.afterRender,renderControlButtons:"undefined"!=typeof e.renderControlButtons?e.renderControlButtons:!0}}},template:'<div class="main-title">\r\n                <div data-bind="css: titleIcon"></div>\r\n                <h1 data-bind="text: title"></h1>\r\n                <h2 data-bind="text: subtitle"></h2>\r\n                <ul class="wizard" data-bind="foreach: steps">\r\n                    <li>\r\n                    <!-- ko if:current -->\r\n                        <a href="javascript:;" class="step" data-bind="css: {current: current, pass: passed}">\r\n                            <span class="circle-maker">\r\n                            <!-- ko if:last-->\r\n                                <b data-bind="css: {flag: last}"></b>\r\n                            <!-- /ko -->\r\n                             <!-- ko ifnot:last-->\r\n                                 <b data-bind="text: number"></b>\r\n                            <!-- /ko -->\r\n                            </span>\r\n                            <em data-bind="text: name"></em>\r\n                        </a>\r\n                    <!-- /ko -->\r\n                    <!-- ko ifnot:current -->\r\n                        <!-- ko if:passed -->\r\n                            <a class="step" data-bind="css: {current: current, pass: passed, disabled: disabled}, attr: {href: link}, click: clickCallback">\r\n                                <span class="circle-maker">\r\n                                <!-- ko if:last-->\r\n                                    <b data-bind="css: {flag: last}"></b>\r\n                                <!-- /ko -->\r\n                                 <!-- ko ifnot:last-->\r\n                                     <b data-bind="text: number"></b>\r\n                                <!-- /ko -->\r\n                                </span>\r\n                                <em data-bind="text: name"></em>\r\n                            </a>\r\n                        <!-- /ko -->\r\n                        <!-- ko ifnot:passed -->\r\n                        <span class="step" data-bind="css: {disabled: disabled}">\r\n                            <span class="circle-maker">\r\n                                <!-- ko if:last-->\r\n                                    <b data-bind="css: {flag: last}"></b>\r\n                                <!-- /ko -->\r\n                                 <!-- ko ifnot:last-->\r\n                                     <b data-bind="text: number"></b>\r\n                                <!-- /ko -->\r\n                            </span>\r\n                            <em data-bind="text: name"></em>\r\n                         </span>\r\n                        <!-- /ko -->\r\n                     <!-- /ko -->\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <h data-bind="template: { name: pageBodyTemplate, data: viewModel }"></h>\r\n            <!-- ko if:renderControlButtons -->\r\n            <div class="button-con">\r\n                <div class="float-left">\r\n                    <button class="btn btn-default" type="button" data-bind="click: backCallback, css: {disabled: backDisabled}" id="wizard_back_button">\r\n                        <span class="fa fa-chevron-left left"></span>\r\n                        <span>Back</span>\r\n                    </button>\r\n                    <button class="btn btn-default" type="button" data-bind="click: cancelCallback, css: {disabled: cancelDisabled}" id="wizard_cancel_button">\r\n                        <span class="fa fa-times left"></span>\r\n                        <span>Cancel</span>\r\n                    </button>\r\n                </div>\r\n                <div class="float-right">\r\n                    <button class="btn btn-primary" type="button" data-bind="click: nextCallback, css: {disabled: nextDisabled}" id="wizard_next_button">\r\n                        <span data-bind="css: nextIcon"></span>\r\n                        <span data-bind="text: nextLabel"></span>\r\n                    </button>\r\n                    <h data-bind="template: { name: footerButtonTemplate, data: viewModel }"></h>\r\n                </div>\r\n            </div>\r\n            <!-- /ko -->\r\n            <span data-bind="template: { afterRender: afterRender }"></span>'}),t.components.register("acs-modal-dialog",{synchronous:!0,viewModel:{createViewModel:function(t){var a=t.subtitle||"",n=t.actionButtonLabel||"",l=t.actionButtonTitle||"";return t.subtitleKey&&(a=s.getString(t.subtitleKey)),t.actionButtonLabelKey&&(n=s.getString(t.actionButtonLabelKey)),t.actionButtonTitleKey&&(l=s.getString(t.actionButtonTitleKey)),this.afterRender=function(){d(t),t.id&&t.afterRenderCallback&&e("#"+t.id).on("shown.bs.modal",t.afterRenderCallback)},this.actionButtonCallback=function(){t.actionButtonCallback&&t.actionButtonCallback()},{title:c(t),titleIconClass:t.titleIconClass,subtitle:a,inprogress:"inprogress"in t?t.inprogress:!1,id:t.id,alertParentNodeId:t.alertParentNodeId,width:t.width,bodyTemplate:t.bodyTemplate,viewModel:t.viewModel,actionButtonLabel:n,actionButtonCallback:this.actionButtonCallback,actionButtonTitle:l,actionButtonClass:t.actionButtonClass,actionButtonDisabled:t.actionButtonDisabled,actionButtonId:t.actionButtonId,showActionButton:"showActionButton"in t?t.showActionButton:!0,showCancelButton:"showCancelButton"in t?t.showCancelButton:!0,showCancelAsButton:"showCancelAsButton"in t?t.showCancelAsButton:!1,showCloseButton:"showCloseButton"in t?t.showCloseButton:!1,afterRenderCallback:t.afterRenderCallback,afterRender:t.afterRender}}},template:'<div class="modal" tabindex="-1" role="dialog" aria-labelledby="srcModalLabel" aria-hidden="true" data-bind="attr: {id: id}">\r\n                <div class="vertical-alignment-helper">\r\n                    <div class="modal-dialog vertical-align-center" data-bind="css: width">\r\n                        <div class="modal-content">\r\n                            <div class="modal-header">\r\n                                <div class="main-title">\r\n                                    <div data-bind="css: titleIconClass"></div>\r\n                                    <h1 data-bind="text: title"></h1>\r\n                                    <h2 data-bind="text: subtitle"></h2>\r\n                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\r\n                                </div>\r\n                            </div>\r\n                            <div data-bind="attr: {id: alertParentNodeId}">\r\n                            </div>\r\n                            <div class="modal-body">\r\n                                <h data-bind="template: { name: bodyTemplate, data: viewModel }">\r\n                            </div>\r\n                            <div class="modal-footer">\r\n                                <div class="button-con">\r\n                                    <div class="float-right">\r\n                                        <!-- ko if:showActionButton -->\r\n                                        <acs-button params="label: actionButtonLabel,\r\n                                            title:actionButtonTitle,\r\n                                            icon_class: actionButtonClass,\r\n                                            id: actionButtonId,\r\n                                            action: actionButtonCallback,\r\n                                            disabled: actionButtonDisabled,\r\n                                            loading: inprogress"\r\n                                        ></acs-button>\r\n                                        <!-- /ko -->\r\n                                        <!-- ko if:showCancelButton -->\r\n                                        <!-- ko if:showCancelAsButton -->\r\n                                        <button type="button" class="btn btn-default" data-dismiss="modal">\r\n                                            <span>Cancel</span>\r\n                                            <span class="fa fa-times left"></span>\r\n                                        </button>\r\n                                        <!-- /ko -->\r\n                                        <!-- ko ifnot:showCancelAsButton -->\r\n                                        <a data-dismiss="modal" href="javascript:;">Cancel</a>\r\n                                        <!-- /ko -->\r\n                                        <!-- /ko -->\r\n                                        <!-- ko if:showCloseButton -->\r\n                                            <button type="button" class="btn btn-default" data-dismiss="modal">\r\n                                                <span>Close</span>\r\n                                                <span class="fa fa-times left"></span>\r\n                                            </button>\r\n                                        <!-- /ko -->\r\n                                    </div>\r\n                                 </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <h data-bind="template: { afterRender: afterRender }"></h>'}),t.components.register("acs-adv-dropdown",{synchronous:!0,viewModel:{createViewModel:function(a){void 0==a.id&&(a.id="select_"+(new Date).getTime());{var n="optionsGroup"in a.options?a.options.optionsGroup:!1,s="",l="multiple"in a?a.multiple:!1;a.value}return e.each(t.unwrap(a.options.optionsList),function(i,o){if(1==n)o.disabled="disabled"in o?o.disabled:!1,e.each(t.unwrap(o.list),function(e,n){if("object"==typeof n&&(n.disabled="disabled"in n?n.disabled:!1,n.sub_text="sub_text"in n?n.sub_text:"",n.icon="icon"in n?n.icon:"",l&&(n.selected=!1,n[a.options.optionsValue]))){var i=t.unwrap(a.value);i instanceof Array&&i.indexOf(n[a.options.optionsValue])>=0&&(n.selected=!0)}n[a.options.optionsValue]==a.value()?s=""!==n.icon?"<span class='"+n.icon+"'></span> "+n[a.options.optionsText]:n[a.options.optionsText]:n==a.value()&&(s=n)});else{if("object"==typeof o&&(o.disabled="disabled"in o?o.disabled:!1,o.sub_text="sub_text"in o?o.sub_text:"",o.icon="icon"in o?o.icon:"",l&&(o.selected=!1,o[a.options.optionsValue]))){var r=t.unwrap(a.value);r instanceof Array&&r.indexOf(o[a.options.optionsValue])>=0&&(o.selected=!0)}o[a.options.optionsValue]==a.value()?s=""!==o.icon?"<span class='"+o.icon+"'></span> "+o[a.options.optionsText]:o[a.options.optionsText]:o==a.value()&&(s=o)}}),!l&&t.isObservable(a.value)&&a.value.subscribe(function(t){e("#"+a.id).val(t),e("#"+a.id).trigger("chosen:updated")}),l&&t.isObservable(a.value)&&a.value.subscribe(function(n){var s=e("#"+a.id),l=s.find("option");e.each(l,function(n,s){var l=e(s),i=l.val(),o=t.unwrap(a.value);o instanceof Array&&(o.indexOf(i)>=0?l.attr("selected",!0):l.removeAttr("selected"))}),e("#"+a.id).trigger("chosen:updated")}),l&&(s="",e.each(a.value(),function(e,t){s.length>0&&(s+=", "),s+=t})),this.afterRender=function(){var n={search_contains:!0};if(a.options.filter||(n.disable_search=!0),d(a),l?e("#"+a.id).chosen(n).change(function(e,t){if(t.selected)a.value.push(t.selected);else if(t.deselected){var n=a.value(),s=n.indexOf(t.deselected);n.splice(s,1),a.value(n)}}):e("#"+a.id).chosen(n),"add_new"in a&&"function"==typeof a.add_new){var s=e("#"+a.id+"_chosen").find(".chosen-results"),i=e('<a style="cursor: pointer;"><span class="fa-plus fa"></span> Add New</a>'),o=e("<li></li>");e(o).append(i),e(s).append(o),e(i).on("click",function(){a.add_new(),e("#"+a.id).trigger("chosen:updated")})}a.options&&a.options.optionsList&&t.isObservable(a.options.optionsList)&&a.options.optionsList.subscribe(function(){e("#"+a.id).trigger("chosen:updated")}),a.disabled&&t.isObservable(a.disabled)&&a.disabled.subscribe(function(){e("#"+a.id).trigger("chosen:updated")})},{label:b(a),labelClass:u(a),fieldClass:f(a),value:a.value,title:c(a),titleClass:t.unwrap(c(a)).length>0?"col-md-1 col-sm-1 col-xs-1":"hidden",id:a.id,isSelected:t.isObservable(a.hasFocus)?a.hasFocus:t.observable(a.hasFocus),options:t.isObservable(a.options.optionsList)?a.options.optionsList:t.observableArray(a.options.optionsList),optionsText:a.options.optionsText||"",optionsValue:a.options.optionsValue||"",optionsGroup:n,filter:"filter"in a.options?a.options.filter:!1,disabled:"disabled"in a?a.disabled:t.observable(!1),readOnly:"read_only"in a?a.read_only:!1,selectedOption:s?s:a.value,multiple:l,placeholder:a.placeholder,afterRender:this.afterRender}}},template:'<!-- ko ifnot:readOnly -->\r\n                <!-- ko if:label.length > 0 -->\r\n                    <div data-bind="attr:{class: labelClass}"><label data-bind="i18n: label, attr:{for:id }"></label></div>\r\n                <!-- /ko -->\r\n                <div data-bind="attr:{class: fieldClass}">\r\n                   <!-- ko if:optionsGroup == false -->\r\n                        <!-- ko if:multiple == true -->\r\n                            <select multiple data-bind="hasFocus: isSelected, disable: disabled, foreach: options(), attr: { id: id, \'data-placeholder\': placeholder, selectedOptions: value()}">\r\n                                 <!-- ko if:$parent.optionsText.length > 0 && $parent.optionsValue.length > 0 -->\r\n                                 <option data-bind="value: $data[$parent.optionsValue], text: $data[$parent.optionsText], disable: $data.disabled, attr: {\'data-subtext\': $data.sub_text, \'data-icon\': $data.icon, selected: $data.selected}"></option>\r\n                                 <!-- /ko -->\r\n                                 <!-- ko ifnot:$parent.optionsText.length > 0 && $parent.optionsValue.length > 0 -->\r\n                                 <option data-bind="value: $data, text: $data, disable: $data.disabled, attr: {\'data-subtext\': $data.sub_text, \'data-icon\': $data.icon, selected: ko.unwrap($parent.value).indexOf($data) >= 0}"></option>\r\n                                 <!-- /ko -->\r\n                            </select>\r\n                        <!-- /ko -->\r\n                        <!-- ko if:multiple == false -->\r\n                            <select data-bind="value: value, hasFocus: isSelected, disable: disabled, foreach: options(), attr: { id: id, \'data-placeholder\': placeholder}">\r\n                                <!-- ko if:$parent.optionsText.length > 0 && $parent.optionsValue.length > 0 -->\r\n                                <option data-bind="value: $data[$parent.optionsValue], text: $data[$parent.optionsText], disable: $data.disabled, attr: {\'data-subtext\': $data.sub_text, \'data-icon\': $data.icon}"></option>\r\n                                <!-- /ko -->\r\n                                <!-- ko ifnot:$parent.optionsText.length > 0 && $parent.optionsValue.length > 0 -->\r\n                                <option data-bind="value: $data, text: $data, disable: $data.disabled, attr: {\'data-subtext\': $data.sub_text, \'data-icon\': $data.icon}"></option>\r\n                                <!-- /ko -->\r\n                            </select>\r\n                        <!-- /ko -->\r\n                    <!-- /ko -->\r\n                    <!-- ko if:optionsGroup == true -->\r\n                        <!-- ko if:multiple == true -->\r\n                            <select multiple data-bind="hasFocus: isSelected, disable: disabled, foreach: options(), attr: { id: id, \'data-placeholder\': placeholder, selectedOptions: value}">\r\n                                <optgroup data-bind="attr: {label: label}, disable: $data.disabled, foreach: list">\r\n                                    <option data-bind="text: text, value: code, disable: $data.disabled, attr: {\'data-subtext\': $data.sub_text, \'data-icon\': $data.icon, selected: $data.selected}"></option>\r\n                                </optgroup>\r\n                            </select>\r\n                        <!-- /ko -->\r\n                        <!-- ko if:multiple == false -->\r\n                            <select data-bind="value: value, hasFocus: isSelected, disable: disabled, foreach: options(), attr: { id: id, \'data-placeholder\': placeholder }">\r\n                                <optgroup data-bind="attr: {label: label}, disable: $data.disabled, foreach: list">\r\n                                    <option data-bind="text: text, value: code, disable: $data.disabled, attr: {\'data-subtext\': $data.sub_text, \'data-icon\': $data.icon}"></option>\r\n                                </optgroup>\r\n                            </select>\r\n                        <!-- /ko -->\r\n                    <!-- /ko -->\r\n                </div>\r\n                <div data-bind="attr:{class: titleClass}"><span class="icon-info" data-bind="attr: {\'data-rel-element\': id, title: title}"></span></div>\r\n            <!-- /ko -->\r\n            <!-- ko if:readOnly -->\r\n                <div data-bind="attr:{class: labelClass}"><label data-bind="text: label"></label></div>\r\n                <div data-bind="attr:{class: fieldClass}"><span class="read-only" data-bind="html: selectedOption"></span></div>\r\n            <!-- /ko -->\r\n            <span data-bind="template: { afterRender: afterRender }">'}),t.components.register("acs-status",{synchronous:!0,viewModel:{createViewModel:function(a){function n(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+e()}var s=this,l=[];e.each(a.status_array,function(e,t){var a={};for(var n in t)a[n]=t[n];l.push(a)});var i=t.observable(null);return a.id=a.id?a.id:n(),t.isObservable(a.value)&&a.value.subscribe(function(n){e.each(l,function(s,l){if("process_message"in a){var r=t.unwrap(a.process_message);r&&r.length>0&&(l.title=o.htmlDecode(r))}"object"==typeof l.status?e.each(l.status,function(e,t){n==t&&i(l)}):n==l.status&&i(l)}),s.reRender(i().title,a.id)}),this.reRender=function(t,a){var n=e("#"+a);e(n).hasClass("tipster")&&!e(n).hasClass("tooltipstered")&&(e(n).addClass("tooltipstered"),e(n).attr("title",""),e(n).tooltipster("content",t))},this.afterRender=function(){var t;i()&&i().showLabel===!1&&(t=e("#"+a.id),e(t).hasClass("tipster")&&!e(t).hasClass("tooltipstered")&&e(t).tooltipster({position:"top",theme:"tooltipster-shadow",content:i().title})),i()&&i().showInfoIcon===!0&&e("span[data-rel-element='"+a.id+"']").hasClass("tipster")&&!e("span[data-rel-element='"+a.id+"']").hasClass("tooltipstered")&&e("span[data-rel-element='"+a.id+"']").tooltipster({position:"top",theme:"tooltipster-shadow"})},e.each(l,function(n,s){s.hasOwnProperty("showInfoIcon")||(s.showInfoIcon=!1),"object"==typeof s.status?e.each(s.status,function(e,n){t.unwrap(a.value)==n&&i(s)}):t.unwrap(a.value)==s.status&&i(s)}),{status:i,id:a.id,tooltip_message:a.tooltip_message?t.unwrap(a.tooltip_message):null,exists:null!==i(),afterRender:this.afterRender}}},template:'<!-- ko if:exists == true -->\r\n			<div data-bind="attr: {id: id, class: status().container, title: (status().showLabel? null: status().title)}">\r\n				<span data-bind="attr: {class: status().statusIcon}"></span>\r\n				<span data-bind="attr: {class: status().badgeIcon}"></span>\r\n				<em>\r\n					<span data-bind="text: status().title, attr: {class: ((status().showLabel === false)? \'hidden\': \'\')}"></span>&nbsp;\r\n					<span data-bind="attr:{\'data-rel-element\':id, class: ((status().showInfoIcon === false)? \'hidden\': \'info-hint tipster\'),\r\n						title: ((status().showInfoIcon === false)? null: tooltip_message)}"></span>\r\n				</em>\r\n			</div>\r\n		<!-- /ko -->\r\n		<!-- ko if:exists == false --><span></span><!-- /ko -->\r\n		<span data-bind="template: { afterRender: afterRender }">'}),t.components.register("acs-chart",{synchronous:!0,require:__MODULE_PREFIX__("assets","js/common/acs-chart")}),t.components.register("acs-chart-container",{synchronous:!0,require:__MODULE_PREFIX__("assets","js/common/acs-chart-container")}),t.components.register("acs-report-panel",{synchronous:!0,require:__MODULE_PREFIX__("assets","js/common/acs-report-panel")}),t.components.register("acs-report-text",{synchronous:!0,require:__MODULE_PREFIX__("assets","js/common/acs-report-text")}),t.components.register("acs-report-title-text",{synchronous:!0,require:__MODULE_PREFIX__("assets","js/common/acs-report-title-text")}),t.components.register("acs-report-instance-dropdown",{synchronous:!0,require:__MODULE_PREFIX__("assets","js/common/acs-report-instance-dropdown")}),t.components.register("acs-report-recommendation",{synchronous:!0,require:__MODULE_PREFIX__("assets","js/common/acs-report-recommendation")}),t.components.register("acs-text-editor",{synchronous:!0,require:__MODULE_PREFIX__("assets","js/common/acs-text-editor")}),t.components.register("acs-report-menu",{synchronous:!0,require:__MODULE_PREFIX__("assets","js/common/acs-report-menu")}),t.components.register("acs-report-scorecard",{synchronous:!0,require:__MODULE_PREFIX__("assets","js/common/acs-report-scorecard")}),t.components.register("acs-sql-explain-plan",{synchronous:!0,require:__MODULE_PREFIX__("assets","js/common/acs-sql-explain-plan")}),t.components.register("acs-report-dropdown",{synchronous:!0,require:__MODULE_PREFIX__("assets","js/common/acs-report-dropdown")}),t.components.register("acs-report-html-render",{synchronous:!0,require:__MODULE_PREFIX__("assets","js/common/acs-report-html-render")})});