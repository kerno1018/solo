/*!***************************************************
 * mark.js v7.0.0
 * https://github.com/julmot/mark.js
 * Copyright (c) 2014–2016, Julian Motz
 * Released under the MIT license https://git.io/vwTVl
 *****************************************************/
/*!***************************************************
 * mark.js v7.0.0
 * https://github.com/julmot/mark.js
 * Copyright (c) 2014–2016, Julian Motz
 * Released under the MIT license https://git.io/vwTVl
 *****************************************************/
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e,t,n){"function"==typeof define&&define.amd?define(["jquery"],function(r){return e(t,n,r)}):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?e(t,n,require("jquery")):e(t,n,jQuery)}(function(e,t,n){var r=function(){function n(e){_classCallCheck(this,n),this.ctx=e}return _createClass(n,[{key:"log",value:function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"debug",r=this.opt.log;this.opt.debug&&"object"===(void 0===r?"undefined":_typeof(r))&&"function"==typeof r[t]&&r[t]("mark.js: "+e)}},{key:"escapeStr",value:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createRegExp",value:function(e){return e=this.escapeStr(e),Object.keys(this.opt.synonyms).length&&(e=this.createSynonymsRegExp(e)),this.opt.diacritics&&(e=this.createDiacriticsRegExp(e)),e=this.createMergedBlanksRegExp(e),e=this.createAccuracyRegExp(e)}},{key:"createSynonymsRegExp",value:function(e){var t=this.opt.synonyms;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n],a=this.escapeStr(n),o=this.escapeStr(r);e=e.replace(RegExp("("+a+"|"+o+")","gmi"),"("+a+"|"+o+")")}return e}},{key:"createDiacriticsRegExp",value:function(e){var t=["aÀÁÂÃÄÅàáâãäåĀāąĄ","cÇçćĆčČ","dđĐďĎ","eÈÉÊËèéêëěĚĒēęĘ","iÌÍÎÏìíîïĪī","lłŁ","nÑñňŇńŃ","oÒÓÔÕÕÖØòóôõöøŌō","rřŘ","sŠšśŚ","tťŤ","uÙÚÛÜùúûüůŮŪū","yŸÿýÝ","zŽžżŻźŹ"],n=[];return e.split("").forEach(function(r){t.every(function(t){if(-1!==t.indexOf(r)){if(n.indexOf(t)>-1)return!1;e=e.replace(RegExp("["+t+"]","gmi"),"["+t+"]"),n.push(t)}return!0})}),e}},{key:"createMergedBlanksRegExp",value:function(e){return e.replace(/[\s]+/gim,"[\\s]*")}},{key:"createAccuracyRegExp",value:function(e){var t=this,n=this.opt.accuracy,r="string"==typeof n?n:n.value,a="string"==typeof n?[]:n.limiters,o="";switch(a.forEach(function(e){o+="|"+t.escapeStr(e)}),r){case"partially":return"()("+e+")";case"complementary":return"()([^\\s"+o+"]*"+e+"[^\\s"+o+"]*)";case"exactly":return"(^|\\s"+o+")("+e+")(?=$|\\s"+o+")"}}},{key:"getSeparatedKeywords",value:function(e){var t=this,n=[];return e.forEach(function(e){t.opt.separateWordSearch?e.split(" ").forEach(function(e){e.trim()&&n.push(e)}):e.trim()&&n.push(e)}),{keywords:n,length:n.length}}},{key:"getElements",value:function(){var e=void 0,t=[];return e=void 0===this.ctx?[]:this.ctx instanceof HTMLElement?[this.ctx]:Array.isArray(this.ctx)?this.ctx:Array.prototype.slice.call(this.ctx),e.forEach(function(e){t.push(e);var n=e.querySelectorAll("*");n.length&&(t=t.concat(Array.prototype.slice.call(n)))}),e.length||this.log("Empty context","warn"),{elements:t,length:t.length}}},{key:"matches",value:function(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}},{key:"matchesExclude",value:function(e,t){var n=this,r=!0,a=this.opt.exclude.concat(["script","style","title"]);return this.opt.iframes||(a=a.concat(["iframe"])),t&&(a=a.concat(["*[data-markjs='true']"])),a.every(function(t){return n.matches(e,t)?r=!1:!0}),!r}},{key:"onIframeReady",value:function(e,t,n){try{!function(){var r=e.contentWindow,a="about:blank",o="complete",c=function(){try{if(null===r.document)throw Error("iframe inaccessible");t(r.document)}catch(e){n()}},i=function(){var t=e.getAttribute("src").trim(),n=r.location.href;return n===a&&t!==a&&t},s=function(){var t=function r(){try{i()||(e.removeEventListener("load",r),c())}catch(t){n()}};e.addEventListener("load",t)};r.document.readyState===o?i()?s():c():s()}()}catch(r){n()}}},{key:"forEachElementInIframe",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=0,o=function(){--a<1&&r()};this.onIframeReady(e,function(e){var r=Array.prototype.slice.call(e.querySelectorAll("*"));0===(a=r.length)&&o(),r.forEach(function(e){"iframe"===e.tagName.toLowerCase()?!function(){var r=0;n.forEachElementInIframe(e,function(e,n){t(e,n),n-1===r&&o(),r++},o)}():(t(e,r.length),o())})},function(){var t=e.getAttribute("src");n.log("iframe '"+t+"' could not be accessed","warn"),o()})}},{key:"forEachElement",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!0,a=this.getElements(),o=a.elements,c=a.length,i=function(){0===--c&&n()};i(++c),o.forEach(function(n){if(!t.matchesExclude(n,r)){if("iframe"===n.tagName.toLowerCase())return void t.forEachElementInIframe(n,function(n){t.matchesExclude(n,r)||e(n)},i);e(n)}i()})}},{key:"forEachNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.forEachElement(function(t){for(t=t.firstChild;t;t=t.nextSibling)3===t.nodeType&&t.textContent.trim()&&e(t)},t)}},{key:"wrapMatches",value:function(e,n,r,a,o){for(var c=this.opt.element?this.opt.element:"mark",i=r?0:2,s=void 0;null!==(s=n.exec(e.textContent));)if(a(s[i])){var u=s.index;r||(u+=s[i-1].length);var l=e.splitText(u);if(e=l.splitText(s[i].length),null!==l.parentNode){var f=t.createElement(c);f.setAttribute("data-markjs","true"),this.opt.className&&f.setAttribute("class",this.opt.className),f.textContent=s[i],l.parentNode.replaceChild(f,l),o(f)}n.lastIndex=0}}},{key:"unwrapMatches",value:function(e){for(var n=e.parentNode,r=t.createDocumentFragment();e.firstChild;)r.appendChild(e.removeChild(e.firstChild));n&&(n.replaceChild(r,e),n.normalize())}},{key:"markRegExp",value:function(e,t){var n=this;this.opt=t,this.log('Searching with expression "'+e+'"');var r=0,a=function(e){r++,n.opt.each(e)};this.forEachNode(function(t){n.wrapMatches(t,e,!0,function(e){return n.opt.filter(t,e,r)},a)},function(){0===r&&n.opt.noMatch(e),n.opt.done(r)})}},{key:"mark",value:function(e,t){var n=this;this.opt=t;var r=this.getSeparatedKeywords("string"==typeof e?[e]:e),a=r.keywords,o=r.length,c=0;0===o&&this.opt.done(c),a.forEach(function(e){var t=RegExp(n.createRegExp(e),"gmi"),r=0,i=function(e){r++,c++,n.opt.each(e)};n.log('Searching with expression "'+t+'"'),n.forEachNode(function(a){n.wrapMatches(a,t,!1,function(){return n.opt.filter(a,e,r,c)},i)},function(){0===r&&n.opt.noMatch(e),a[o-1]===e&&n.opt.done(c)})})}},{key:"unmark",value:function(e){var t=this;this.opt=e;var n=this.opt.element?this.opt.element:"*";n+="[data-markjs]",this.opt.className&&(n+="."+this.opt.className),this.log('Removal selector "'+n+'"'),this.forEachElement(function(e){t.matches(e,n)&&t.unwrapMatches(e)},function(){t.opt.done()},!1)}},{key:"opt",set:function(t){this._opt=_extends({},{element:"",className:"",exclude:[],iframes:!1,separateWordSearch:!0,diacritics:!0,synonyms:{},accuracy:"partially",each:function(){},noMatch:function(){},filter:function(){return!0},done:function(){},debug:!1,log:e.console},t)},get:function(){return this._opt}}]),n}();n.fn.mark=function(e,t){return new r(this).mark(e,t),this},n.fn.markRegExp=function(e,t){return new r(this).markRegExp(e,t),this},n.fn.unmark=function(e){return new r(this).unmark(e),this}},window,document);