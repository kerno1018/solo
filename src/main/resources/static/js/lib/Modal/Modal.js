define(["jquery","knockout"],function(e,n){"use strict";var o=function(){};o.prototype.showModal=function(n){if("undefined"==typeof n)throw new Error("An options argument is required.");if("object"!=typeof n.viewModel)throw new Error("options.viewModel is required.");var o=n.viewModel,r=n.template||o.template,c=n.context;if(!r)throw new Error("options.template or options.viewModel.template is required.");return t(r,o).pipe(e).pipe(function(n){var t=e.Deferred();return i(o,t,c),d(n),u(t,n),a(n),t})};var t=function(o,t){var i=r(),d=e.Deferred();return n.renderTemplate(o,t,{afterRender:function(e){var n=e.filter(function(e){return 1===e.nodeType});d.resolve(n[0])}},i,"replaceNode"),d},r=function(){var e=document.createElement("div");return e.style.display="none",document.body.appendChild(e),e},i=function(e,n,o){e.modal={close:function(e){"undefined"!=typeof e?n.resolveWith(o,[e]):n.rejectWith(o,[])}}},d=function(e){e.modal({backdrop:"static",keyboard:!1})},u=function(e,n){e.always(function(){n.modal("hide")})},a=function(e){e.on("hidden.bs.modal",function(){e.each(function(e,o){n.cleanNode(o)}),e.remove()})};return new o});